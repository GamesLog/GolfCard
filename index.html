<!DOCTYPE html>
<html>
<head>
    <title>Mini Golf Score Card</title>
    <style>
        /* CSS rules here */
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .controls button {
            font-size: 18px;
            padding: 10px;
            margin: 5px;
            width: 120px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            text-align: center;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        input[type='number'] {
            width: 70px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button id="addPlayer">Add Player</button>
        <button id="deletePlayer">Delete Player</button>
        <button id="resetScores">Reset Scores</button>
    </div>
    <table id="scoreCard">
        <thead>
            <tr id="headerRow">
                <th>Hole</th>
                <!-- Player headers will be added here -->
            </tr>
        </thead>
        <tbody id="holesBody">
            <!-- 9 holes will be added here -->
        </tbody>
        <tfoot id="totalsFooter">
            <tr>
                <td>Total</td>
                <!-- Totals will be added here -->
            </tr>
        </tfoot>
    </table>
</body>


    <script>
document.addEventListener("DOMContentLoaded", function() {
    const headerRow = document.getElementById("headerRow");
    const holesBody = document.getElementById("holesBody");
    const totalsFooter = document.getElementById("totalsFooter").getElementsByTagName("tr")[0];
    let playerCount = 0; // Track the number of players

    function calculateTotals() {
        // Calculate total for each player
        for (let i = 1; i < headerRow.cells.length; i++) {
            let total = 0;
            for (let row of holesBody.children) {
                let input = row.cells[i].getElementsByTagName("input")[0];
                total += parseInt(input.value) || 0;
            }
            totalsFooter.cells[i].innerText = total;
        }
    }

    function addPlayer(name, scores = []) {
        playerCount++;
        let th = document.createElement("th");
        let playerNameInput = document.createElement("input");
        playerNameInput.type = "text";
        playerNameInput.value = name;
        playerNameInput.onchange = saveData; // Save new name to local storage
        th.appendChild(playerNameInput);
        headerRow.appendChild(th);

        let totalCell = totalsFooter.insertCell(-1);
        totalCell.innerText = 0; // Initialize total

        for (let i = 0; i < holesBody.children.length; i++) {
            let row = holesBody.children[i];
            let cell = row.insertCell(-1);
            let input = document.createElement("input");
            input.type = "number";
            input.pattern = "\\d*";
            input.value = scores[i] || ''; // Set score if available
            input.onchange = function() {
                calculateTotals(); // Recalculate totals when score changes
                saveData(); // Save data to local storage
            };
            cell.appendChild(input);
        }
    }

    function deletePlayer() {
        if (playerCount <= 0) return; // No players to delete
        playerCount--;
        // Remove last player's column from each part of the table
        headerRow.deleteCell(-1);
        totalsFooter.deleteCell(-1);
        for (let row of holesBody.children) {
            row.deleteCell(-1);
        }
        saveData();
    }

    function resetScores() {
        // Reset scores but keep player names
        for (let row of holesBody.children) {
            for (let i = 1; i < row.cells.length; i++) {
                let input = row.cells[i].getElementsByTagName("input")[0];
                input.value = '';
            }
        }
        calculateTotals();
        saveData();
    }

    function saveData() {
        // Save player names and scores to local storage
        let data = {players: [], scores: []};
        for (let i = 1; i < headerRow.cells.length; i++) {
            let playerName = headerRow.cells[i].getElementsByTagName("input")[0].value;
            data.players.push(playerName);
            let playerScores = [];
            for (let row of holesBody.children) {
                let score = row.cells[i].getElementsByTagName("input")[0].value;
                playerScores.push(score);
            }
            data.scores.push(playerScores);
        }
        localStorage.setItem('golfScoreCard', JSON.stringify(data));
    }

    function loadData() {
        // Load player names and scores from local storage
        let data = JSON.parse(localStorage.getItem('golfScoreCard'));
        if (data && data.players) {
            for (let i = 0; i < data.players.length; i++) {
                addPlayer(data.players[i], data.scores[i]);
            }
        } else {
            addPlayer("Player1"); // Add default player
        }
    }

    // Event listeners for buttons
    document.getElementById("addPlayer").addEventListener("click", function() {
        addPlayer("Player" + (playerCount + 1));
        saveData();
    });

    document.getElementById("deletePlayer").addEventListener("click", function() {
        deletePlayer();
    });

    document.getElementById("resetScores").addEventListener("click", function() {
        resetScores();
    });

    // Initialize 9 holes
    for (let i = 1; i <= 9; i++) {
        let row = holesBody.insertRow(-1);
        let cellHole = row.insertCell(0);
        cellHole.innerText = i; // Hole number
    }

    // Add total row
    totalsFooter.insertCell(-1); // Placeholder for 'Total' label

    // Load data or initialize first player
    loadData();
});





</script>
</body>
</html>
