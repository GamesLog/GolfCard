<!DOCTYPE html>
<html>

<head>
    <title>Mini Golf Score Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    /* Base body styling */
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background-color: #f4f4f4;
        font-size: 16px; /* Base font size for text */
    }

    /* Control buttons styling */
    .controls button {
        font-size: 20px; /* Reduced font size for buttons */
        padding: 10px; /* Reduced padding to decrease button size */
        margin: 5px;
        width: auto; /* Auto width to make buttons more square than rectangle */
    }

    /* Table styling for the scorecard */
    table {
        width: 100%;
        border-collapse: collapse;
        /* Removed height to avoid forced vertical scrolling */
        /* Removed overflow-y to allow natural page flow */
    }

    /* Table headers and cells styling */
    th, td {
        border: 1px solid #ddd;
        text-align: center;
        padding: 8px; /* Padding for cell content */
        font-size: 16px; /* Adjusted font size for better fit */
    }
    
    /* Specifically targeting the player name inputs in the header */
    th input[type='text'] {
        font-size: 20px; /* Increased font size for player names */
        padding: 10px; /* Adjusted padding for better fit */
        width: auto; /* Adjusted width for aesthetic spacing */
    }

    /* Styling for the hole numbers and player's scores */
    td input[type='number'] {
        font-size: 20px; /* Increased font size for player scores */
        padding: 10px; /* Padding for touch targets */
        width: auto; /* Adjusted width to fill the cell */
    }

    /* Styling for medal positions (gold, silver, bronze) */
    .gold { background-color: gold; }
    .silver { background-color: silver; }
    .bronze { background-color: #cd7f32; }

    /* Sticky top controls container */
    .controls {
        position: sticky;
        top: 0; /* Stick to the top of the viewport */
        background-color: white;
        z-index: 100;
    }

    /* Responsive adjustments for mobile devices */
    @media only screen and (max-width: 768px) {
        /* Adjusting sizes on mobile */
        .controls button, th input[type='text'], td input[type='number'] {
            font-size: 20px; /* Unified font size for mobile */
            padding: 10px; /* Reduced padding for a compact look */
            width: auto; /* Auto width for flexibility */
        }
    }
</style>



</head>
<body>
    <div class="controls">
        <button id="addPlayer">Add Player</button>
        <button id="deletePlayer">Delete Player</button>
        <button id="resetScores">Reset Scores</button>
    </div>
    <table id="scoreCard">
        <thead>
            <tr id="headerRow">
                <th>Hole</th>
                <!-- Player headers will be added here -->
            </tr>
        </thead>
        <tbody id="holesBody">
            <!-- 9 holes will be added here -->
        </tbody>
        <!-- ... Body content ... -->
        <tfoot id="totalsFooter">
            <tr>
                <td>Total</td>
                <!-- Totals will be added here -->
            </tr>
            <tr id="placementRow">
                <td>Place</td>
                <!-- Placements will be added here -->
            </tr>
        </tfoot>
    </table>
</body>


    <script>
document.addEventListener("DOMContentLoaded", function() {
    const headerRow = document.getElementById("headerRow");
    const holesBody = document.getElementById("holesBody");
    const totalsFooter = document.getElementById("totalsFooter").getElementsByTagName("tr")[0];
    let playerCount = 0; // Track the number of players


function calculateTotals() {
    let totals = [];
    // Calculate total for each player
    for (let i = 1; i < headerRow.cells.length; i++) {
        let total = 0;
        for (let row of holesBody.children) {
            let input = row.cells[i].getElementsByTagName("input")[0];
            total += parseInt(input.value) || 0;
        }
        totals.push({index: i, total: total});
        totalsFooter.cells[i].innerText = total;
    }

    // Sort the totals in ascending order for golf scores
    totals.sort((a, b) => a.total - b.total);

    // Make sure placementRow has enough cells
    const placementRow = document.getElementById("placementRow");
    while (placementRow.cells.length < headerRow.cells.length) {
        placementRow.insertCell(-1); // Add missing cells
    }

    // Clear previous places and remove any styling
    for (let i = 1; i < placementRow.cells.length; i++) {
        placementRow.cells[i].className = ""; // Clear classes
        placementRow.cells[i].innerText = "";
    }

    // Assign places and color coding
    totals.forEach((player, rank) => {
        let placeCell = placementRow.cells[player.index];
        placeCell.innerText = rank + 1; // Assigning rank
        if (rank === 0) placeCell.classList.add("gold");
        else if (rank === 1) placeCell.classList.add("silver");
        else if (rank === 2) placeCell.classList.add("bronze");
    });
}



    function addPlayer(name, scores = []) {
        playerCount++;
        let th = document.createElement("th");
        let playerNameInput = document.createElement("input");
        playerNameInput.type = "text";
        playerNameInput.value = name;
        playerNameInput.onchange = saveData; // Save new name to local storage
        th.appendChild(playerNameInput);
        headerRow.appendChild(th);

        let totalCell = totalsFooter.insertCell(-1);
        totalCell.innerText = 0; // Initialize total

        for (let i = 0; i < holesBody.children.length; i++) {
            let row = holesBody.children[i];
            let cell = row.insertCell(-1);
            let input = document.createElement("input");
            input.type = "number";
            input.pattern = "\\d*";
            input.value = scores[i] || ''; // Set score if available
            input.onchange = function() {
                calculateTotals(); // Recalculate totals when score changes
                saveData(); // Save data to local storage
            };
            cell.appendChild(input);
        }
    }

    function deletePlayer() {
        if (playerCount <= 0) return; // No players to delete
        playerCount--;
        // Remove last player's column from each part of the table
        headerRow.deleteCell(-1);
        totalsFooter.deleteCell(-1);
        for (let row of holesBody.children) {
            row.deleteCell(-1);
        }
        saveData();
    }

    function resetScores() {
        // Reset scores but keep player names
        for (let row of holesBody.children) {
            for (let i = 1; i < row.cells.length; i++) {
                let input = row.cells[i].getElementsByTagName("input")[0];
                input.value = '';
            }
        }
        calculateTotals();
        saveData();
    }

    function saveData() {
        // Save player names and scores to local storage
        let data = {players: [], scores: []};
        for (let i = 1; i < headerRow.cells.length; i++) {
            let playerName = headerRow.cells[i].getElementsByTagName("input")[0].value;
            data.players.push(playerName);
            let playerScores = [];
            for (let row of holesBody.children) {
                let score = row.cells[i].getElementsByTagName("input")[0].value;
                playerScores.push(score);
            }
            data.scores.push(playerScores);
        }
        localStorage.setItem('golfScoreCard', JSON.stringify(data));
    }

    function loadData() {
        // Load player names and scores from local storage
        let data = JSON.parse(localStorage.getItem('golfScoreCard'));
        if (data && data.players) {
            for (let i = 0; i < data.players.length; i++) {
                addPlayer(data.players[i], data.scores[i]);
            }
        } else {
            addPlayer("Player1"); // Add default player
        }
    }

    // Event listeners for buttons
    document.getElementById("addPlayer").addEventListener("click", function() {
        addPlayer("Player" + (playerCount + 1));
        saveData();
    });

    document.getElementById("deletePlayer").addEventListener("click", function() {
        deletePlayer();
    });

    document.getElementById("resetScores").addEventListener("click", function() {
        resetScores();
    });

    // Initialize 9 holes
    for (let i = 1; i <= 9; i++) {
        let row = holesBody.insertRow(-1);
        let cellHole = row.insertCell(0);
        cellHole.innerText = i; // Hole number
    }

    // Add total row
    totalsFooter.insertCell(-1); // Placeholder for 'Total' label

    // Load data or initialize first player
    loadData();
});





</script>
</body>
</html>
